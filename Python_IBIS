import tkinter as tk
from tkinter import messagebox

def calculer():
    try:
        nb_chambres = int(entry_chambres.get())
        nb_femmes = int(entry_femmes.get())
        nb_interim = int(entry_interim.get())

        duree_chambre = 0.5
        max_chambres_femme = 14
        total_femmes = nb_femmes * max_chambres_femme

        resultat = ""

        if total_femmes >= nb_chambres:
            chambres_par_femme = nb_chambres // nb_femmes
            reste = nb_chambres % nb_femmes
            for i in range(nb_femmes):
                nb = chambres_par_femme + (1 if i < reste else 0)
                resultat += f"Femme {i+1}: {nb} chambres ({nb * duree_chambre:.1f} h)\n"
            resultat += "\nAucun intérimaire nécessaire."
        else:
            reste = nb_chambres - total_femmes
            chambres_par_interim = reste / nb_interim
            for i in range(nb_femmes):
                resultat += f"Femme {i+1}: {max_chambres_femme} chambres (7.0 h)\n"
            resultat += "\nIntérimaires:\n"
            for i in range(nb_interim):
                resultat += f"Intérimaire {i+1}: {chambres_par_interim:.1f} chambres ({chambres_par_interim * duree_chambre:.1f} h)\n"

        text_result.delete(1.0, tk.END)
        text_result.insert(tk.END, resultat)

    except ValueError:
        messagebox.showerror("Erreur", "Veuillez entrer des nombres valides.")

# --- Fenêtre principale ---
root = tk.Tk()
root.title("Répartition des chambres")
root.geometry("380x450")

# --- Champs de saisie ---
tk.Label(root, text="Nombre de chambres :").pack(pady=5)
entry_chambres = tk.Entry(root)
entry_chambres.pack(pady=5)

tk.Label(root, text="Femmes de ménage :").pack(pady=5)
entry_femmes = tk.Entry(root)
entry_femmes.pack(pady=5)

tk.Label(root, text="Intérimaires :").pack(pady=5)
entry_interim = tk.Entry(root)
entry_interim.pack(pady=5)

# --- Bouton ---
btn = tk.Button(root, text="Calculer la répartition", command=calculer, bg="lightblue")
btn.pack(pady=10)

# --- Zone de texte ---
text_result = tk.Text(root, width=45, height=15)
text_result.pack(pady=10)

# --- Lancer la fenêtre ---
root.mainloop()
